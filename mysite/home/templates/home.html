{% extends 'base.html' %} {% load static %} {% block head %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %} {% block body %}
{% if user.is_requester %}
<div class="jumbotron" id="requester_jumbotron">
</div>
{% endif %}
{% if user.is_authoriser %}
<div class="jumbotron" id="authoriser_jumbatron">
</div>
    <div class="details">
        <ul id="left-authoriser">
            <li>
                <p><span class="glyphicon glyphicon-user"></span>{{ user.get_full_name }}</p>
            </li>
            <li>
                <p><span class="glyphicon glyphicon-earphone one"></span>{{ user.phone_number }}</p>
            </li>
            <li>
                <p><span class="glyphicon glyphicon-envelope one"></span>{{ user.email }}</p>
            </li>
            <li>
                <p><span class="glyphicon glyphicon-book"></span>{{ user.department }}</p>
            </li>
        </ul>
    </div>
{% endif %}
{% if user.is_requester %}
<div class="details">
  <ul id="left">
    <li>
      <p><span class="glyphicon glyphicon-user"></span>{{ user.get_full_name }}</p>
    </li>
    <li>
      <p><span class="glyphicon glyphicon-earphone one"></span>{{ user.phone_number }}</p>
    </li>
    <li>
      <p><span class="glyphicon glyphicon-envelope one"></span>{{ user.email }}</p>
    </li>
    <li>
      <p><span class="glyphicon glyphicon-book"></span>{{ user.department }}</p>
    </li>
  </ul>
</div>
<div class="details">
  <ul id="right">
    <li id="welcome-text">
      <p><b>Information</b></p>
    </li>
    <li id="role">
      <p><b>Role: </b>{{ user.user_role }}</p>
    </li>
    <li id="pending-text">
      {% if user.is_requester %}
      <p><b>Pending Requests: </b></p>
      {% endif %}
    </li>
    <li id="authoriser-text">
      {% if user.is_requester %}
      <p><b>Authoriser: </b>{{ assigned_authoriser }}</p>
      {% endif %}
    </li>
    <li id="last-login-text">
      <p><b>Last login: </b>{{ user.last_login }}</p>
    </li>
  </ul>
</div>
<div class="divider-vertical-right"></div>
<div class="divider-vertical-left"></div>
<div class="col-md-3 month_container">
  <table class="calendar_month month_left">
    <thead>
      <tr>
        <td colspan="14">January, 2018</td>
      </tr>
      <tr>
        <td colspan="2">M</td>
        <td colspan="2">T</td>
        <td colspan="2">W</td>
        <td colspan="2">T</td>
        <td colspan="2">F</td>
        <td colspan="2">S</td>
        <td colspan="2">S</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_1">
          <span>1</span>
        </td>
        <td class="calendar_cell half_2nd day_1"></td>
        <td class="calendar_cell half_1st day_2">
          <span>2</span>
        </td>
        <td class="calendar_cell half_2nd day_2"></td>
        <td class="calendar_cell half_1st day_3 weekend_cell">
          <span>3</span>
        </td>
        <td class="calendar_cell half_2nd day_3 weekend_cell"></td>
        <td class="calendar_cell half_1st day_4 weekend_cell">
          <span>4</span>
        </td>
        <td class="calendar_cell half_2nd day_4 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_5">
          <span>5</span>
        </td>
        <td class="calendar_cell half_2nd day_5"></td>
        <td class="calendar_cell half_1st day_6">
          <span>6</span>
        </td>
        <td class="calendar_cell half_2nd day_6"></td>
        <td class="calendar_cell half_1st day_7">
          <span>7</span>
        </td>
        <td class="calendar_cell half_2nd day_7"></td>
        <td class="calendar_cell half_1st day_8">
          <span>8</span>
        </td>
        <td class="calendar_cell half_2nd day_8"></td>
        <td class="calendar_cell half_1st day_9">
          <span>9</span>
        </td>
        <td class="calendar_cell half_2nd day_9"></td>
        <td class="calendar_cell half_1st day_10 weekend_cell">
          <span>10</span>
        </td>
        <td class="calendar_cell half_2nd day_10 weekend_cell"></td>
        <td class="calendar_cell half_1st day_11 weekend_cell">
          <span>11</span>
        </td>
        <td class="calendar_cell half_2nd day_11 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_12">
          <span>12</span>
        </td>
        <td class="calendar_cell half_2nd day_12"></td>
        <td class="calendar_cell half_1st day_13">
          <span>13</span>
        </td>
        <td class="calendar_cell half_2nd day_13"></td>
        <td class="calendar_cell half_1st day_14">
          <span>14</span>
        </td>
        <td class="calendar_cell half_2nd day_14"></td>
        <td class="calendar_cell half_1st day_15">
          <span>15</span>
        </td>
        <td class="calendar_cell half_2nd day_15"></td>
        <td class="calendar_cell half_1st day_16">
          <span>16</span>
        </td>
        <td class="calendar_cell half_2nd day_16"></td>
        <td class="calendar_cell half_1st day_17 weekend_cell">
          <span>17</span>
        </td>
        <td class="calendar_cell half_2nd day_17 weekend_cell"></td>
        <td class="calendar_cell half_1st day_18 weekend_cell">
          <span>18</span>
        </td>
        <td class="calendar_cell half_2nd day_18 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_19">
          <span>19</span>
        </td>
        <td class="calendar_cell half_2nd day_19"></td>
        <td class="calendar_cell half_1st day_20">
          <span>20</span>
        </td>
        <td class="calendar_cell half_2nd day_20"></td>
        <td class="calendar_cell half_1st day_21">
          <span>21</span>
        </td>
        <td class="calendar_cell half_2nd day_21"></td>
        <td class="calendar_cell half_1st day_22">
          <span>22</span>
        </td>
        <td class="calendar_cell half_2nd day_22"></td>
        <td class="calendar_cell half_1st day_23">
          <span>23</span>
        </td>
        <td class="calendar_cell half_2nd day_23"></td>
        <td class="calendar_cell half_1st day_24 weekend_cell">
          <span>24</span>
        </td>
        <td class="calendar_cell half_2nd day_24 weekend_cell"></td>
        <td class="calendar_cell half_1st day_25 weekend_cell">
          <span>25</span>
        </td>
        <td class="calendar_cell half_2nd day_25 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_26">
          <span>26</span>
        </td>
        <td class="calendar_cell half_2nd day_26"></td>
        <td class="calendar_cell half_1st day_27">
          <span>27</span>
        </td>
        <td class="calendar_cell half_2nd day_27"></td>
        <td class="calendar_cell half_1st day_28">
          <span>28</span>
        </td>
        <td class="calendar_cell half_2nd day_28"></td>
        <td class="calendar_cell half_1st day_29">
          <span>29</span>
        </td>
        <td class="calendar_cell half_2nd day_29"></td>
        <td class="calendar_cell half_1st day_30">
          <span>30</span>
        </td>
        <td class="calendar_cell half_2nd day_30"></td>
        <td class="calendar_cell half_1st day_31 weekend_cell">
          <span>31</span>
        </td>
        <td class="calendar_cell half_2nd day_31 weekend_cell"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
      </tr>
    </tbody>
  </table>
</div>
<div class="col-md-3 month_container">
  <table class="calendar_month month_right">
    <thead>
      <tr>
        <td colspan="14">February, 2018</td>
      </tr>
      <tr>
        <td colspan="2">M</td>
        <td colspan="2">T</td>
        <td colspan="2">W</td>
        <td colspan="2">T</td>
        <td colspan="2">F</td>
        <td colspan="2">S</td>
        <td colspan="2">S</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
        <td class="calendar_cell half_1st day_1">
          <span>1</span>
        </td>
        <td class="calendar_cell half_2nd day_1"></td>
        <td class="calendar_cell half_1st day_2">
          <span>2</span>
        </td>
        <td class="calendar_cell half_2nd day_2"></td>
        <td class="calendar_cell half_1st day_3 weekend_cell">
          <span>3</span>
        </td>
        <td class="calendar_cell half_2nd day_3 weekend_cell"></td>
        <td class="calendar_cell half_1st day_4 weekend_cell">
          <span>4</span>
        </td>
        <td class="calendar_cell half_2nd day_4 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_5">
          <span>5</span>
        </td>
        <td class="calendar_cell half_2nd day_5"></td>
        <td class="calendar_cell half_1st day_6">
          <span>6</span>
        </td>
        <td class="calendar_cell half_2nd day_6"></td>
        <td class="calendar_cell half_1st day_7">
          <span>7</span>
        </td>
        <td class="calendar_cell half_2nd day_7"></td>
        <td class="calendar_cell half_1st day_8">
          <span>8</span>
        </td>
        <td class="calendar_cell half_2nd day_8"></td>
        <td class="calendar_cell half_1st day_9">
          <span>9</span>
        </td>
        <td class="calendar_cell half_2nd day_9"></td>
        <td class="calendar_cell half_1st day_10 weekend_cell">
          <span>10</span>
        </td>
        <td class="calendar_cell half_2nd day_10 weekend_cell"></td>
        <td class="calendar_cell half_1st day_11 weekend_cell">
          <span>11</span>
        </td>
        <td class="calendar_cell half_2nd day_11 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_12">
          <span>12</span>
        </td>
        <td class="calendar_cell half_2nd day_12"></td>
        <td class="calendar_cell half_1st day_13">
          <span>13</span>
        </td>
        <td class="calendar_cell half_2nd day_13"></td>
        <td class="calendar_cell half_1st day_14">
          <span>14</span>
        </td>
        <td class="calendar_cell half_2nd day_14"></td>
        <td class="calendar_cell half_1st day_15">
          <span>15</span>
        </td>
        <td class="calendar_cell half_2nd day_15"></td>
        <td class="calendar_cell half_1st day_16">
          <span>16</span>
        </td>
        <td class="calendar_cell half_2nd day_16"></td>
        <td class="calendar_cell half_1st day_17 weekend_cell">
          <span>17</span>
        </td>
        <td class="calendar_cell half_2nd day_17 weekend_cell"></td>
        <td class="calendar_cell half_1st day_18 weekend_cell">
          <span>18</span>
        </td>
        <td class="calendar_cell half_2nd day_18 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_19">
          <span>19</span>
        </td>
        <td class="calendar_cell half_2nd day_19"></td>
        <td class="calendar_cell half_1st day_20">
          <span>20</span>
        </td>
        <td class="calendar_cell half_2nd day_20"></td>
        <td class="calendar_cell half_1st day_21">
          <span>21</span>
        </td>
        <td class="calendar_cell half_2nd day_21"></td>
        <td class="calendar_cell half_1st day_22">
          <span>22</span>
        </td>
        <td class="calendar_cell half_2nd day_22"></td>
        <td class="calendar_cell half_1st day_23">
          <span>23</span>
        </td>
        <td class="calendar_cell half_2nd day_23"></td>
        <td class="calendar_cell half_1st day_24 weekend_cell">
          <span>24</span>
        </td>
        <td class="calendar_cell half_2nd day_24 weekend_cell"></td>
        <td class="calendar_cell half_1st day_25 weekend_cell">
          <span>25</span>
        </td>
        <td class="calendar_cell half_2nd day_25 weekend_cell"></td>
      </tr>
      <tr>
        <td class="calendar_cell half_1st day_26">
          <span>26</span>
        </td>
        <td class="calendar_cell half_2nd day_26"></td>
        <td class="calendar_cell half_1st day_27">
          <span>27</span>
        </td>
        <td class="calendar_cell half_2nd day_27"></td>
        <td class="calendar_cell half_1st day_28">
          <span>28</span>
        </td>
        <td class="calendar_cell half_2nd day_28"></td>
        <td class="calendar_cell half_1st day_29">
          <span>29</span>
        </td>
        <td class="calendar_cell half_2nd day_29"></td>
        <td class="calendar_cell half_1st day_30">
          <span>30</span>
        </td>
        <td class="calendar_cell half_2nd day_30"></td>
        <td class="calendar_cell half_1st day_31 weekend_cell">
          <span>31</span>
        </td>
        <td class="calendar_cell half_2nd day_31 weekend_cell"></td>
        <td class="calendar_cell half_1st day_">
          <span></span>
        </td>
        <td class="calendar_cell half_2nd day_"></td>
      </tr>
    </tbody>
  </table>
</div>
{% endif %}
{% if user.is_authoriser %}
<div id="footer1"></div>
<div id="footer"></div>
<div class="container">
  <div class="table-wrapper">
    <div class="table-title">
      <div class="row">
        <div class="col-sm-6">
          <div class="search-box">
            <i class="material-icons">&#xE8B6;</i>
            <input type="text" class="form-control" id="searchbox" placeholder="Search">
          </div>
        </div>
        <div class="col-sm-6">
          <div class="btn-group" data-toggle="buttons">
              <label class="btn btn-info">
                  <input type="radio" name="status" id="button-all" value=""> All
              </label>
              <label class="btn btn-warning active">
                  <input type="radio" name="status" id="button-pending" value="Pending" checked> Pending
              </label>
              <label class="btn btn-success">
                  <input type="radio" name="status" id="button-approved" value="Approved"> Approved
              </label>
              <label class="btn btn-danger">
                  <input type="radio" name="status" id="button-declined" value="Declined"> Declined
              </label>
          </div>
        </div>
      </div>
    </div>
    <table class="table table-striped table-bordered table-hover" id="my_table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Name</th>
          <th>Department</th>
          <th>Type</th>
          <th>Attachment</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="stud">
        {% for request in pending_requests %}
        <tr>
          <td>{{ request.created_at }}</td>
          <td>{{ request.user.get_full_name }}</td>
          <td>{{ request.user.department }}</td>
          <td>{{ request.leave_type }}</td>
          <td>{{ request.attachment }}</td>
          <td> {% if request.status == 'Approved' %}
            <span class="status text-success">&bull;</span>
            {{ request.status }}
            {% endif %}
            {% if request.status == 'Pending' %}
            <span class="status text-warning">&bull;</span>
            {{ request.status }}
            {% endif %}
            {% if request.status == 'Declined' %}
            <span class="status text-danger">&bull;</span>
            {{ request.status }}
            {% endif %}
          </td>
          <td><a href="{% url 'home:request' request.pk %}" class="btn btn-sm manage">View</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endif %}
{% if user.is_requester %}
<div class="row">
  <div class="header">
    <h3>Pending Requests</h3>
  </div>
  <div class="col-md-12">
    <p class="visible-xs-block"><em class="text-muted">Scroll table horizontally</em></p>
    <div class="table-responsive">
      <table class="table table-hover user-requests-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Start</th>
            <th>End</th>
            <th>Attachment</th>
            <th><span class="pull-right">Status</span></th>
          </tr>
        </thead>
        {% for entry in entries %}
        <tr class="leave-request-row">
          <td>{{ entry.created_at }}</td>
          <td>{{ entry.leave_type }}</td>
          <td>{{ entry.start }}</td>
          <td>{{ entry.end }}</td>
          <td>
            <a href="media/{{ entry.attachment }}">
              <div style="height:100%;width:100%">{{entry.attachment}}</div>
            </a>
          </td>
          <td><span class="pull-right leave-request-row-status">{{ entry.status }}</span></td>
        </tr>
        {% endfor %}
      </table>
    </div>
  </div>
</div>
<div id="footer"></div>
<div id="footer1">
  <p></p>
</div>
{% endif %}
{% endblock %}